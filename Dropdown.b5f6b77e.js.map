{"version":3,"sources":["components/dropdown/helpers.js","components/dropdown/Dropdown.js"],"names":["convertNumToWordform","amount","textForms","one","two","many","isMatchingValue","Number","String","includes","length","Dropdown","element","dropdown","elementInput","dropdownList","dropdownArrow","buttonApply","buttonClear","rowsGroupParent","rowsGroup","dropdownRow","signs","minusSign","plusSign","listItems","firstArg","numberContainer","_findElement","_bindEventListeners","_calculateTheResult","querySelector","parentInput","rowsGroups","querySelectorAll","forEach","amountElement","push","classList","add","contains","remove","toggle","index","currentValue","result","innerHTML","_addNumber","_subtractNumber","_toggleClass","_addClass","_removeClass","value","number","_hideButtonClear","event","target","closest","sum","values","declinations","newString","i","declination","string","firstOrLastElementString","intermediateElementString","_showButtonClear","parse","JSON","getAttribute","wordsForm","Object","firstValue","secondValue","thirstValue","_setValues","addEventListener","_handleIconArrowDownClick","bind","_handleInputContentFocus","_handleButtonsContainerForApplyClick","_handleButtonsContainerForClearClick","document","_handleDocumentClick","_handlePlusSignClick","_handleMinusSignClick","elements"],"mappings":";AAsBeA,aAAAA,SAAAA,EAAAA,EAAAA,GAAAA,OAAAA,EAAAA,IAAAA,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,IAAAA,IAAAA,SAAAA,IAAAA,MAAAA,IAAAA,UAAAA,6IAAAA,SAAAA,EAAAA,EAAAA,GAAAA,GAAAA,EAAAA,CAAAA,GAAAA,iBAAAA,EAAAA,OAAAA,EAAAA,EAAAA,GAAAA,IAAAA,EAAAA,OAAAA,UAAAA,SAAAA,KAAAA,GAAAA,MAAAA,GAAAA,GAAAA,MAAAA,WAAAA,GAAAA,EAAAA,cAAAA,EAAAA,EAAAA,YAAAA,MAAAA,QAAAA,GAAAA,QAAAA,EAAAA,MAAAA,KAAAA,GAAAA,cAAAA,GAAAA,2CAAAA,KAAAA,GAAAA,EAAAA,EAAAA,QAAAA,GAAAA,SAAAA,EAAAA,EAAAA,IAAAA,MAAAA,GAAAA,EAAAA,EAAAA,UAAAA,EAAAA,EAAAA,QAAAA,IAAAA,IAAAA,EAAAA,EAAAA,EAAAA,IAAAA,MAAAA,GAAAA,EAAAA,EAAAA,IAAAA,EAAAA,GAAAA,EAAAA,GAAAA,OAAAA,EAAAA,SAAAA,EAAAA,EAAAA,GAAAA,GAAAA,oBAAAA,QAAAA,OAAAA,YAAAA,OAAAA,GAAAA,CAAAA,IAAAA,EAAAA,GAAAA,GAAAA,EAAAA,GAAAA,EAAAA,OAAAA,EAAAA,IAAAA,IAAAA,IAAAA,EAAAA,EAAAA,EAAAA,OAAAA,cAAAA,GAAAA,EAAAA,EAAAA,QAAAA,QAAAA,EAAAA,KAAAA,EAAAA,QAAAA,GAAAA,EAAAA,SAAAA,GAAAA,GAAAA,IAAAA,MAAAA,GAAAA,GAAAA,EAAAA,EAAAA,EAAAA,QAAAA,IAAAA,GAAAA,MAAAA,EAAAA,QAAAA,EAAAA,SAAAA,QAAAA,GAAAA,EAAAA,MAAAA,GAAAA,OAAAA,GAAAA,SAAAA,EAAAA,GAAAA,GAAAA,MAAAA,QAAAA,GAAAA,OAAAA,EAAAA,OAAAA,eAAAA,QAAAA,aAAAA,CAAAA,OAAAA,IAAAA,QAAAA,aAAAA,EAtBf,IAAMA,EAAuB,SAACC,EAAQC,GACXA,IAAAA,EAAAA,EAAAA,EADyB,GAC3CC,EAD2C,EAAA,GACtCC,EADsC,EAAA,GACjCC,EADiC,EAAA,GAG5CC,EAAkB,SAAAL,GACfM,OAAAA,OAAON,GAAU,GAAKM,OAAON,GAAU,GAG5CO,GAAAA,OAAOP,GAAQQ,SAAS,KAAM,CAC5BR,GAAW,IAAXA,EACKE,OAAAA,EAELK,GAAsB,MAAtBA,OAAOP,GAAQ,IAAyB,KAAXA,EACxBE,OAAAA,MAEJ,CAAA,GAA8B,IAA1BK,OAAOP,GAAQS,QAAgBJ,EAAgBL,GACjDG,OAAAA,EACF,GAAII,OAAOP,GAAQS,OAAS,GAAKJ,EAAgBE,OAAOP,GAAQ,IAC9DG,OAAAA,EAEFC,OAAAA,GAGML,EAAAA,EAAAA,QAAAA,QAAAA;;ACkOf,aAxPA,IAAA,EAAA,EAAA,QAAA,cAwPA,SAAA,EAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,GAAA,SAAA,EAAA,EAAA,GAAA,KAAA,aAAA,GAAA,MAAA,IAAA,UAAA,qCAAA,SAAA,EAAA,EAAA,GAAA,IAAA,IAAA,EAAA,EAAA,EAAA,EAAA,OAAA,IAAA,CAAA,IAAA,EAAA,EAAA,GAAA,EAAA,WAAA,EAAA,aAAA,EAAA,EAAA,cAAA,EAAA,UAAA,IAAA,EAAA,UAAA,GAAA,OAAA,eAAA,EAAA,EAAA,IAAA,IAAA,SAAA,EAAA,EAAA,EAAA,GAAA,OAAA,GAAA,EAAA,EAAA,UAAA,GAAA,GAAA,EAAA,EAAA,GAAA,EAvPMW,IAAAA,EAAAA,WACQC,SAAAA,EAAAA,GAAS,EAAA,KAAA,GACdC,KAAAA,SAAWD,EACXE,KAAAA,aAAe,KACfC,KAAAA,aAAe,KACfC,KAAAA,cAAgB,KAChBC,KAAAA,YAAc,KACdC,KAAAA,YAAc,KACdC,KAAAA,gBAAkB,KAClBC,KAAAA,UAAY,GAEZC,KAAAA,YAAcT,EACdU,KAAAA,MAAQ,GACRC,KAAAA,UAAY,GACZC,KAAAA,SAAW,GACXC,KAAAA,UAAY,GACZC,KAAAA,SAAW,GACXC,KAAAA,gBAAkB,GAElBC,KAAAA,eACAC,KAAAA,sBACAC,KAAAA,sBAkOT,OAAA,EAAA,EAAA,CAAA,CAAA,IAAA,eA/NE,MAAA,WAAe,IAAA,EAAA,KACRhB,KAAAA,aAAe,KAAKD,SAASkB,cAChC,+BAEGC,KAAAA,YAAc,KAAKnB,SAASkB,cAAc,uBAC1ChB,KAAAA,aAAe,KAAKF,SAASkB,cAAc,yBAC3Cf,KAAAA,cAAgB,KAAKH,SAASkB,cACjC,kCAEGd,KAAAA,YAAc,KAAKJ,SAASkB,cAC/B,8BAEGb,KAAAA,YAAc,KAAKL,SAASkB,cAC/B,8BAEGZ,KAAAA,gBAAkB,KAAKN,SAASkB,cAAc,sBAC9CE,KAAAA,WAAa,KAAKpB,SAASqB,iBAAiB,qBAE5CD,KAAAA,WAAWE,QAAQ,SAAAvB,GAChBwB,IAAAA,EAAgBxB,EAAQmB,cAAc,wBAC5C,EAAKJ,gBAAgBU,KAAKD,KAEvBH,KAAAA,WAAWE,QAAQ,SAAAvB,GAChBW,IAAAA,EAAYX,EAAQmB,cAAc,uBAClCP,EAAWZ,EAAQmB,cAAc,sBACvC,EAAKR,UAAUc,KAAKd,GACpB,EAAKC,SAASa,KAAKb,OAqMzB,CAAA,IAAA,YAjME,MAAA,WACOT,KAAAA,aAAauB,UAAUC,IAAI,6BAC5B,KAAKP,YAAYQ,SAAS,KAAK1B,eAC5BA,KAAAA,aAAawB,UAAUC,IAAI,oCA8LtC,CAAA,IAAA,eA1LE,MAAA,WACOxB,KAAAA,aAAauB,UAAUG,OAAO,6BAC/B,KAAKT,YAAYQ,SAAS,KAAK1B,eAC5BA,KAAAA,aAAawB,UAAUG,OAAO,oCAuLzC,CAAA,IAAA,eAnLE,MAAA,WACO1B,KAAAA,aAAauB,UAAUI,OAAO,6BAC/B,KAAKV,YAAYQ,SAAS,KAAK1B,eAC5BA,KAAAA,aAAawB,UAAUI,OAAO,oCAgLzC,CAAA,IAAA,aA5KE,MAAA,SAAWC,GACHC,IACFC,EADED,EAAe,KAAKjB,gBAAgBgB,GAAOG,UAEjDD,EAAStC,OAAOqC,GAAgB,EAE3BjB,KAAAA,gBAAgBgB,GAAOG,UAAYtC,OAAOqC,KAuKnD,CAAA,IAAA,kBApKE,MAAA,SAAgBF,GACRC,IACFC,EACJA,EAFqB,KAAKlB,gBAAgBgB,GAAOG,UAEzB,EAEjBnB,KAAAA,gBAAgBgB,GAAOG,UAD1BD,EAAS,EAC6B,IAEAA,IA6J9C,CAAA,IAAA,uBAzJE,MAAA,SAAqBF,GACdI,KAAAA,WAAWJ,KAwJpB,CAAA,IAAA,wBArJE,MAAA,SAAsBA,GACfK,KAAAA,gBAAgBL,KAoJzB,CAAA,IAAA,4BAjJE,MAAA,WACOM,KAAAA,iBAgJT,CAAA,IAAA,2BA7IE,MAAA,WACOC,KAAAA,cA4IT,CAAA,IAAA,uCAzIE,MAAA,WACOC,KAAAA,iBAwIT,CAAA,IAAA,mBArIE,MAAA,WAEK,KAAKjC,YAAYoB,UAAUE,SAAS,mCAEhCtB,KAAAA,YAAYoB,UAAUC,IAAI,mCAiIrC,CAAA,IAAA,mBA7HE,MAAA,WACM,KAAKrB,YAAYoB,UAAUE,SAAS,kCACjCtB,KAAAA,YAAYoB,UAAUG,OAAO,mCA2HxC,CAAA,IAAA,uCAvHE,MAAA,WACO3B,KAAAA,aAAasC,MAAQ,GACrBzB,KAAAA,gBAAgBQ,QAAQ,SAAAkB,GACXA,EACRP,UAAY,MAEjBQ,KAAAA,qBAiHT,CAAA,IAAA,uBA9GE,MAAA,SAAqBC,GACfA,EAAMC,OAAOC,QAAQ,eAAiB,KAAK5C,UACxCsC,KAAAA,iBA4GX,CAAA,IAAA,aAxGE,MAAA,SAAWO,EAAKC,EAAQC,GAAc,IAAA,EAAA,KAChCF,GAAQ,IAARA,EACG5C,KAAAA,aAAasC,MAAQ,GACrBE,KAAAA,uBACA,CACCO,IAAAA,EAAY,GAClBF,EAAOxB,QAAQ,SAACiB,EAAOU,GACjBV,GAAU,IAAVA,EAAa,CACTW,IAAAA,EAAcH,EAAaE,GACjCD,EAAUxB,KACL7B,GAAAA,OAAAA,OAAO4C,GAAU,KAAA,QAAA,EAAqBA,EAAAA,SAAAA,EAAOW,QAItDF,EAAU1B,QAAQ,SAAC6B,EAAQrB,GACnBsB,IAAAA,EACO,IAAVtB,GAAoC,IAArBkB,EAAUnD,QAC1BiC,IAAUkB,EAAUnD,OAAS,EACzBwD,EACJvB,EAAQkB,EAAUnD,OAAS,GAAKmD,EAAUnD,OAAS,EACjDuD,EACF,EAAKnD,aAAasC,OAAYS,GAAAA,OAAAA,EAAUlB,IAC/BuB,IACT,EAAKpD,aAAasC,OAAYS,GAAAA,OAAAA,EAAUlB,GAAxC,SAGCwB,KAAAA,sBA8EX,CAAA,IAAA,sBA1EE,MAAA,WACQC,IAAAA,EAAQC,KAAKD,MAAM,KAAKvD,SAASyD,aAAa,oBAC9CC,EAAY,GAClBC,OAAOb,OAAOS,GAAOjC,QAAQ,SAAAvB,GAC3B2D,EAAUlC,KAAKzB,KAGZE,KAAAA,aAAasC,MAAQ,KAEtBqB,IAAAA,EAAa,EACbC,EAAc,EACdC,EAAc,EAEdH,OAAOb,OAAOY,GAAW7D,OAAS,EAC/BiB,KAAAA,gBAAgBQ,QAAQ,SAACkB,EAAQV,GAChCA,GAAS,EACX8B,GAAclE,OAAO8C,EAAOP,WACT,IAAVH,IACT+B,GAAenE,OAAO8C,EAAOP,cAI5BnB,KAAAA,gBAAgBQ,QAAQ,SAACkB,EAAQV,GACtB,IAAVA,EACF8B,GAAclE,OAAO8C,EAAOP,WACT,IAAVH,EACT+B,GAAenE,OAAO8C,EAAOP,WACV,IAAVH,IACTgC,GAAepE,OAAO8C,EAAOP,cAI7BY,IAAAA,EAAMe,EAAaC,EAAcC,EACjChB,EAAS,CAACc,EAAYC,EAAaC,GACpCC,KAAAA,WAAWlB,EAAKC,EAAQY,KAwCjC,CAAA,IAAA,sBArCE,MAAA,WAAsB,IAAA,EAAA,KACfvD,KAAAA,cAAc6D,iBACjB,QACA,KAAKC,0BAA0BC,KAAK,OAEjCjE,KAAAA,aAAa+D,iBAChB,QACA,KAAKG,yBAAyBD,KAAK,OAEhC9D,KAAAA,YAAY4D,iBACf,QACA,KAAKI,qCAAqCF,KAAK,OAE5C7D,KAAAA,YAAY2D,iBACf,QACA,KAAKK,qCAAqCH,KAAK,OAEjDI,SAASN,iBAAiB,QAAS,KAAKO,qBAAqBL,KAAK,OAC7D9C,KAAAA,WAAWE,QAAQ,SAAAvB,GACtBA,EAAQiE,iBAAiB,QAAS,EAAK/C,oBAAoBiD,KAAK,MAE7DvD,KAAAA,SAASW,QAAQ,SAACvB,EAAS+B,GAC9B/B,EAAQiE,iBACN,QACA,EAAKQ,qBAAqBN,KAAK,EAAMpC,MAGpCpB,KAAAA,UAAUY,QAAQ,SAACvB,EAAS+B,GAC/B/B,EAAQiE,iBACN,QACA,EAAKS,sBAAsBP,KAAK,EAAMpC,UAO9C,EAvPMhC,GAsPA4E,EAAWJ,SAASjD,iBAAiB,gBAC3CqD,EAASpD,QAAQ,SAAAvB,GACXD,IAAAA,EAASC","file":"Dropdown.b5f6b77e.js","sourceRoot":"../src","sourcesContent":["const convertNumToWordform = (amount, textForms) => {\n  const [one, two, many] = textForms;\n\n  const isMatchingValue = amount => {\n    return Number(amount) > 1 && Number(amount) < 5;\n  };\n\n  if (String(amount).includes('1')) {\n    if (amount === 1) {\n      return one;\n    }\n    if (String(amount)[1] === '1' && amount !== 11) {\n      return one;\n    }\n  } else if (String(amount).length === 1 && isMatchingValue(amount)) {\n    return two;\n  } else if (String(amount).length > 1 && isMatchingValue(String(amount)[1])) {\n    return two;\n  }\n  return many;\n};\n\nexport default convertNumToWordform;\n","import convertNumToWordform from './helpers';\nclass Dropdown {\n  constructor(element) {\n    this.dropdown = element;\n    this.elementInput = null;\n    this.dropdownList = null;\n    this.dropdownArrow = null;\n    this.buttonApply = null;\n    this.buttonClear = null;\n    this.rowsGroupParent = null;\n    this.rowsGroup = [];\n\n    this.dropdownRow = element;\n    this.signs = [];\n    this.minusSign = [];\n    this.plusSign = [];\n    this.listItems = [];\n    this.firstArg = [];\n    this.numberContainer = [];\n\n    this._findElement();\n    this._bindEventListeners();\n    this._calculateTheResult();\n  }\n\n  _findElement() {\n    this.elementInput = this.dropdown.querySelector(\n      '.js-dropdown__input-content',\n    );\n    this.parentInput = this.dropdown.querySelector('.js-dropdown__input');\n    this.dropdownList = this.dropdown.querySelector('.js-dropdown__content');\n    this.dropdownArrow = this.dropdown.querySelector(\n      '.js-dropdown__input-arrow-down',\n    );\n    this.buttonApply = this.dropdown.querySelector(\n      '.js-dropdown__button-apply',\n    );\n    this.buttonClear = this.dropdown.querySelector(\n      '.js-dropdown__button-clear',\n    );\n    this.rowsGroupParent = this.dropdown.querySelector('.js-dropdown__rows');\n    this.rowsGroups = this.dropdown.querySelectorAll('.js-dropdown__row');\n\n    this.rowsGroups.forEach(element => {\n      const amountElement = element.querySelector('.js-dropdown__amount');\n      this.numberContainer.push(amountElement);\n    });\n    this.rowsGroups.forEach(element => {\n      const minusSign = element.querySelector('.js-dropdown__minus');\n      const plusSign = element.querySelector('.js-dropdown__plus');\n      this.minusSign.push(minusSign);\n      this.plusSign.push(plusSign);\n    });\n  }\n\n  _addClass() {\n    this.dropdownList.classList.add('dropdown__content_visible');\n    if (this.parentInput.contains(this.elementInput)) {\n      this.elementInput.classList.add('dropdown__input-content_opened');\n    }\n  }\n\n  _removeClass() {\n    this.dropdownList.classList.remove('dropdown__content_visible');\n    if (this.parentInput.contains(this.elementInput)) {\n      this.elementInput.classList.remove('dropdown__input-content_opened');\n    }\n  }\n\n  _toggleClass() {\n    this.dropdownList.classList.toggle('dropdown__content_visible');\n    if (this.parentInput.contains(this.elementInput)) {\n      this.elementInput.classList.toggle('dropdown__input-content_opened');\n    }\n  }\n\n  _addNumber(index) {\n    const currentValue = this.numberContainer[index].innerHTML;\n    let result = 0;\n    result = Number(currentValue) + 1;\n\n    this.numberContainer[index].innerHTML = String(result);\n  }\n\n  _subtractNumber(index) {\n    const currentValue = this.numberContainer[index].innerHTML;\n    let result = 0;\n    result = currentValue - 1;\n    if (result < 0) {\n      this.numberContainer[index].innerHTML = '0';\n    } else {\n      this.numberContainer[index].innerHTML = result;\n    }\n  }\n\n  _handlePlusSignClick(index) {\n    this._addNumber(index);\n  }\n\n  _handleMinusSignClick(index) {\n    this._subtractNumber(index);\n  }\n\n  _handleIconArrowDownClick() {\n    this._toggleClass();\n  }\n\n  _handleInputContentFocus() {\n    this._addClass();\n  }\n\n  _handleButtonsContainerForApplyClick() {\n    this._removeClass();\n  }\n\n  _hideButtonClear() {\n    if (\n      !this.buttonClear.classList.contains('.dropdown__button-clear_hidden')\n    ) {\n      this.buttonClear.classList.add('dropdown__button-clear_hidden');\n    }\n  }\n\n  _showButtonClear() {\n    if (this.buttonClear.classList.contains('dropdown__button-clear_hidden')) {\n      this.buttonClear.classList.remove('dropdown__button-clear_hidden');\n    }\n  }\n\n  _handleButtonsContainerForClearClick() {\n    this.elementInput.value = '';\n    this.numberContainer.forEach(number => {\n      const element = number;\n      element.innerHTML = '0';\n    });\n    this._hideButtonClear();\n  }\n\n  _handleDocumentClick(event) {\n    if (event.target.closest('.dropdown') !== this.dropdown) {\n      this._removeClass();\n    }\n  }\n\n  _setValues(sum, values, declinations) {\n    if (sum === 0) {\n      this.elementInput.value = '';\n      this._hideButtonClear();\n    } else {\n      const newString = [];\n      values.forEach((value, i) => {\n        if (value !== 0) {\n          const declination = declinations[i];\n          newString.push(\n            `${String(value)} ${convertNumToWordform(value, declination)}`,\n          );\n        }\n      });\n      newString.forEach((string, index) => {\n        const firstOrLastElementString =\n          (index === 0 && newString.length === 1) ||\n          index === newString.length - 1;\n        const intermediateElementString =\n          index < newString.length - 1 && newString.length > 1;\n        if (firstOrLastElementString) {\n          this.elementInput.value += `${newString[index]}`;\n        } else if (intermediateElementString) {\n          this.elementInput.value += `${newString[index]}, `;\n        }\n      });\n      this._showButtonClear();\n    }\n  }\n\n  _calculateTheResult() {\n    const parse = JSON.parse(this.dropdown.getAttribute('data-words-form'));\n    const wordsForm = [];\n    Object.values(parse).forEach(element => {\n      wordsForm.push(element);\n    });\n\n    this.elementInput.value = null;\n\n    let firstValue = 0;\n    let secondValue = 0;\n    let thirstValue = 0;\n\n    if (Object.values(wordsForm).length < 3) {\n      this.numberContainer.forEach((number, index) => {\n        if (index <= 1) {\n          firstValue += Number(number.innerHTML);\n        } else if (index === 2) {\n          secondValue += Number(number.innerHTML);\n        }\n      });\n    } else {\n      this.numberContainer.forEach((number, index) => {\n        if (index === 0) {\n          firstValue += Number(number.innerHTML);\n        } else if (index === 1) {\n          secondValue += Number(number.innerHTML);\n        } else if (index === 2) {\n          thirstValue += Number(number.innerHTML);\n        }\n      });\n    }\n    const sum = firstValue + secondValue + thirstValue;\n    const values = [firstValue, secondValue, thirstValue];\n    this._setValues(sum, values, wordsForm);\n  }\n\n  _bindEventListeners() {\n    this.dropdownArrow.addEventListener(\n      'click',\n      this._handleIconArrowDownClick.bind(this),\n    );\n    this.elementInput.addEventListener(\n      'focus',\n      this._handleInputContentFocus.bind(this),\n    );\n    this.buttonApply.addEventListener(\n      'click',\n      this._handleButtonsContainerForApplyClick.bind(this),\n    );\n    this.buttonClear.addEventListener(\n      'click',\n      this._handleButtonsContainerForClearClick.bind(this),\n    );\n    document.addEventListener('click', this._handleDocumentClick.bind(this));\n    this.rowsGroups.forEach(element => {\n      element.addEventListener('click', this._calculateTheResult.bind(this));\n    });\n    this.plusSign.forEach((element, index) => {\n      element.addEventListener(\n        'click',\n        this._handlePlusSignClick.bind(this, index),\n      );\n    });\n    this.minusSign.forEach((element, index) => {\n      element.addEventListener(\n        'click',\n        this._handleMinusSignClick.bind(this, index),\n      );\n    });\n  }\n}\n\nconst elements = document.querySelectorAll('.js-dropdown');\nelements.forEach(element => {\n  new Dropdown(element);\n});\n"]}