{"version":3,"sources":["elements/slider/slider.js"],"names":["Slider","element","slider","priceMin","priceMax","_initial","_listenFocusout","$","min","max","values","range","animate","slide","event","ui","val","toLocaleString","focusout","replace","optLeft","whereRight","optRight","whereLeft","Number","elements","document","querySelectorAll","forEach"],"mappings":";AAoEA,SAAA,EAAA,EAAA,GAAA,KAAA,aAAA,GAAA,MAAA,IAAA,UAAA,qCAAA,SAAA,EAAA,EAAA,GAAA,IAAA,IAAA,EAAA,EAAA,EAAA,EAAA,OAAA,IAAA,CAAA,IAAA,EAAA,EAAA,GAAA,EAAA,WAAA,EAAA,aAAA,EAAA,EAAA,cAAA,EAAA,UAAA,IAAA,EAAA,UAAA,GAAA,OAAA,eAAA,EAAA,EAAA,IAAA,IAAA,SAAA,EAAA,EAAA,EAAA,GAAA,OAAA,GAAA,EAAA,EAAA,UAAA,GAAA,GAAA,EAAA,EAAA,GAAA,EApEMA,IAAAA,EAAAA,WACQC,SAAAA,EAAAA,GAAS,EAAA,KAAA,GACdC,KAAAA,OAASD,EACTE,KAAAA,SAAW,yBACXC,KAAAA,SAAW,0BAEXC,KAAAA,WACAC,KAAAA,kBA6DT,OAAA,EAAA,EAAA,CAAA,CAAA,IAAA,WA1DE,MAAA,WACEC,EAAE,KAAKL,QAAQA,OAAO,CACpBM,IAAK,EACLC,IAAK,MACLC,OAAQ,CAAC,IAAM,KACfC,OAAO,EACPC,QAAS,OACTC,MAAMC,SAAAA,EAAOC,GACXR,EAAE,KAAKJ,UAAUa,IAAID,EAAGL,OAAO,GAAGO,eAAe,UACjDV,EAAE,KAAKH,UAAUY,IAAID,EAAGL,OAAO,GAAGO,eAAe,aAIrDV,EAAE,KAAKJ,UAAUa,IAAI,SACrBT,EAAE,KAAKH,UAAUY,IAAI,YA4CzB,CAAA,IAAA,kBAzCE,MAAA,WAAkB,IAAA,EAAA,KAChBT,EAAE,KAAKL,QAAQgB,SAAS,WACtB,EAAKf,SAASa,MAAMG,QAAQ,UAAW,IACjCC,IAAAA,EAAUb,EAAE,EAAKL,QAAQA,OAAO,SAAU,OAC1CmB,EAAad,EAAE,EAAKL,QAAQA,OAAO,SAAU,GAEnD,EAAKE,SAASY,MAAMG,QAAQ,UAAW,IACjCG,IAAAA,EAAWf,EAAE,EAAKL,QAAQA,OAAO,SAAU,OAC3CqB,EAAYhB,EAAE,EAAKL,QAAQA,OAAO,SAAU,GAE9C,EAAKC,SAAWkB,IAClB,EAAKlB,SAAWkB,GAEd,EAAKlB,SAAWiB,IAClB,EAAKjB,SAAWiB,GAEI,KAAlB,EAAKjB,WACP,EAAKA,SAAW,GAEd,EAAKC,SAAWmB,IAClB,EAAKnB,SAAWmB,GAEd,EAAKnB,SAAWkB,IAClB,EAAKlB,SAAWkB,GAEI,KAAlB,EAAKlB,WACP,EAAKA,SAAW,GAGlBG,EAAE,0BAA0BS,IAC1BQ,OAAO,EAAKrB,UAAUc,eAAe,UAEvCV,EAAE,2BAA2BS,IAC3BQ,OAAO,EAAKpB,UAAUa,eAAe,UAEvCV,EAAE,EAAKL,QAAQA,OAAO,SAAU,CAAC,EAAKC,SAAU,EAAKC,iBAM3D,EApEMJ,GAmEAyB,EAAWC,SAASC,iBAAiB,qBAC3CF,EAASG,QAAQ,SAAA3B,GACXD,IAAAA,EAAOC","file":"slider.a3aca97d.js","sourceRoot":"../src","sourcesContent":["class Slider {\n  constructor(element) {\n    this.slider = element;\n    this.priceMin = '.js-slider__left-price';\n    this.priceMax = '.js-slider__right-price';\n\n    this._initial();\n    this._listenFocusout();\n  }\n\n  _initial() {\n    $(this.slider).slider({\n      min: 0,\n      max: 15450,\n      values: [5000, 10000],\n      range: true,\n      animate: 'fast',\n      slide(event, ui) {\n        $(this.priceMin).val(ui.values[0].toLocaleString('ru-RU'));\n        $(this.priceMax).val(ui.values[1].toLocaleString('ru-RU'));\n      },\n    });\n\n    $(this.priceMin).val('5 000');\n    $(this.priceMax).val('10 000');\n  }\n\n  _listenFocusout() {\n    $(this.slider).focusout(() => {\n      this.priceMin.val().replace(/[^0-9]/g, '');\n      const optLeft = $(this.slider).slider('option', 'min');\n      const whereRight = $(this.slider).slider('values', 1);\n\n      this.priceMax.val().replace(/[^0-9]/g, '');\n      const optRight = $(this.slider).slider('option', 'max');\n      const whereLeft = $(this.slider).slider('values', 0);\n\n      if (this.priceMin > whereRight) {\n        this.priceMin = whereRight;\n      }\n      if (this.priceMin < optLeft) {\n        this.priceMin = optLeft;\n      }\n      if (this.priceMin === '') {\n        this.priceMin = 0;\n      }\n      if (this.priceMax < whereLeft) {\n        this.priceMax = whereLeft;\n      }\n      if (this.priceMax > optRight) {\n        this.priceMax = optRight;\n      }\n      if (this.priceMax === '') {\n        this.priceMax = 0;\n      }\n\n      $('.js-slider__left-price').val(\n        Number(this.priceMin).toLocaleString('ru-RU'),\n      );\n      $('.js-slider__right-price').val(\n        Number(this.priceMax).toLocaleString('ru-RU'),\n      );\n      $(this.slider).slider('values', [this.priceMin, this.priceMax]);\n    });\n  }\n}\n\nconst elements = document.querySelectorAll('.js-slider__range');\nelements.forEach(element => {\n  new Slider(element);\n});\n"]}