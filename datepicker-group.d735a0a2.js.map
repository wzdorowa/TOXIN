{"version":3,"sources":["components/datepicker-group/datepicker-group.js"],"names":["Datepicker","element","datepickerGroup","datepicker","elementsInput","dropdownsArrow","buttonApply","buttonClear","calendar","findElement","bindEventListeners","setValueToInput","querySelector","querySelectorAll","classList","add","remove","toggle","$myCalendar","$","find","data","clear","addClass","toggleClass","removeClass","console","log","clearValues","event","contains","target","forEach","elementInput","addEventListener","handleInputContentFocus","bind","dropdownArrow","handleIconArrowDownClick","handleButtonsContainerForApplyClick","handleButtonsContainerForClearClick","document","handleDocumentClick","parents","length","navTitles","days","multipleDatesSeparator","dateFormat","onSelect","fd","dates","input","string","value","inputs","dayFrom","dayTo","split","i","elements"],"mappings":"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","file":"datepicker-group.d735a0a2.js","sourceRoot":"../src","sourcesContent":["class Datepicker {\n  constructor(element) {\n    this.datepickerGroup = element;\n    this.datepicker = null;\n    this.elementsInput = null;\n    this.dropdownsArrow = null;\n    this.buttonApply = null;\n    this.buttonClear = null;\n    this.calendar = null;\n\n    this.findElement();\n    this.bindEventListeners();\n    this.setValueToInput();\n  }\n\n  findElement() {\n    this.datepicker = this.datepickerGroup.querySelector(\n      '.js-datepicker-group__datepicker',\n    );\n    this.elementsInput = this.datepickerGroup.querySelectorAll(\n      '.js-input__content',\n    );\n    this.dropdownsArrow = this.datepickerGroup.querySelectorAll(\n      '.js-input__icon-arrow-down',\n    );\n    this.buttonApply = this.datepickerGroup.querySelector(\n      '.js-calendar__buttons-container_for-apply',\n    );\n    this.buttonClear = this.datepickerGroup.querySelector(\n      '.js-calendar__buttons-container_for-clear',\n    );\n    this.calendar = this.datepickerGroup.querySelector('.js-calendar__content');\n  }\n\n  addClass() {\n    this.datepicker.classList.add('datepicker-group__datepicker_visible');\n  }\n\n  removeClass() {\n    this.datepicker.classList.remove('datepicker-group__datepicker_visible');\n  }\n\n  toggleClass() {\n    this.datepicker.classList.toggle('datepicker-group__datepicker_visible');\n  }\n\n  clearValues() {\n    const $myCalendar = $(this.datepickerGroup).find('.js-calendar__content');\n    const $calendar = $($myCalendar).datepicker().data('datepicker');\n    $calendar.clear();\n  }\n\n  handleInputContentFocus() {\n    this.addClass();\n  }\n\n  handleIconArrowDownClick() {\n    this.toggleClass();\n  }\n\n  handleButtonsContainerForApplyClick() {\n    this.removeClass();\n  }\n\n  handleButtonsContainerForClearClick() {\n    console.log(this);\n    this.clearValues();\n  }\n\n  handleDocumentClick(event) {\n    if (!this.datepickerGroup.contains(event.target)) {\n      this.removeClass();\n    }\n  }\n\n  bindEventListeners() {\n    this.elementsInput.forEach(elementInput => {\n      elementInput.addEventListener(\n        'focus',\n        this.handleInputContentFocus.bind(this),\n      );\n    });\n    this.dropdownsArrow.forEach(dropdownArrow => {\n      dropdownArrow.addEventListener(\n        'click',\n        this.handleIconArrowDownClick.bind(this),\n      );\n    });\n    this.buttonApply.addEventListener(\n      'click',\n      this.handleButtonsContainerForApplyClick.bind(this),\n    );\n    this.buttonClear.addEventListener(\n      'click',\n      this.handleButtonsContainerForClearClick.bind(this),\n    );\n    document.addEventListener(\n      'click',\n      this.handleDocumentClick.bind(this),\n      true,\n    );\n  }\n\n  setValueToInput() {\n    if (\n      $(this.calendar).parents('.datepicker-group__datepicker_only').length ===\n      1\n    ) {\n      $(this.calendar).datepicker({\n        navTitles: {\n          days: 'MM <i>yyyy</i>',\n        },\n        multipleDatesSeparator: ' - ',\n        dateFormat: 'dd M',\n        onSelect: (fd, dates) => {\n          const input = this.datepickerGroup.querySelector(\n            '.js-input__content',\n          );\n          let string = '';\n\n          if (dates) {\n            dates.forEach(() => {\n              string = fd;\n            });\n            input.value = string;\n          }\n        },\n      });\n    } else {\n      $(this.calendar).datepicker({\n        navTitles: {\n          days: 'MM <i>yyyy</i>',\n        },\n        dateFormat: 'dd.mm.yyyy',\n        onSelect: fd => {\n          const inputs = this.datepickerGroup.querySelectorAll(\n            '.js-input__content',\n          );\n          let dayFrom = '';\n          let dayTo = '';\n\n          const signs = fd.split('');\n          signs.forEach((element, i) => {\n            if (i < 10) {\n              dayFrom += element;\n            } else if (i > 10) {\n              dayTo += element;\n            }\n          });\n          inputs[0].value = dayFrom;\n          inputs[1].value = dayTo;\n        },\n      });\n    }\n  }\n}\n\nconst elements = document.querySelectorAll('.js-datepicker-group');\nelements.forEach(element => {\n  new Datepicker(element);\n});\n"]}