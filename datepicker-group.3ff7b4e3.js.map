{"version":3,"sources":["components/datepicker-group/datepicker-group.js"],"names":["Datepicker","element","_datepickerGroup","_datepicker","_elementsInput","_dropdownsArrow","_buttonApply","_buttonClear","_calendar","_findElement","_bindEventListeners","_setValueToInput","querySelector","querySelectorAll","classList","add","remove","toggle","$myCalendar","$","find","datepicker","data","clear","_addClass","_toggleClass","_removeClass","_clearValues","event","contains","target","forEach","elementInput","addEventListener","_handleInputContentFocus","bind","dropdownArrow","_handleIconArrowDownClick","_handleButtonsContainerForApplyClick","_handleButtonsContainerForClearClick","document","_handleDocumentClick","parents","length","navTitles","days","multipleDatesSeparator","dateFormat","onSelect","fd","dates","input","string","value","inputs","dayFrom","dayTo","split","i","elements"],"mappings":"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","file":"datepicker-group.3ff7b4e3.js","sourceRoot":"../src","sourcesContent":["class Datepicker {\n  constructor(element) {\n    this._datepickerGroup = element;\n    this._datepicker = null;\n    this._elementsInput = null;\n    this._dropdownsArrow = null;\n    this._buttonApply = null;\n    this._buttonClear = null;\n    this._calendar = null;\n\n    this._findElement();\n    this._bindEventListeners();\n    this._setValueToInput();\n  }\n\n  _findElement() {\n    this._datepicker = this._datepickerGroup.querySelector(\n      '.js-datepicker-group__datepicker',\n    );\n    this._elementsInput = this._datepickerGroup.querySelectorAll(\n      '.js-input__content',\n    );\n    this._dropdownsArrow = this._datepickerGroup.querySelectorAll(\n      '.js-input__icon-arrow-down',\n    );\n    this._buttonApply = this._datepickerGroup.querySelector(\n      '.js-calendar__buttons-container_with-button-apply',\n    );\n    this._buttonClear = this._datepickerGroup.querySelector(\n      '.js-calendar__buttons-container_with-button-clear',\n    );\n    this._calendar = this._datepickerGroup.querySelector('.js-datepicker-here');\n  }\n\n  _addClass() {\n    this._datepicker.classList.add('datepicker-group__datepicker_visible');\n  }\n\n  _removeClass() {\n    this._datepicker.classList.remove('datepicker-group__datepicker_visible');\n  }\n\n  _toggleClass() {\n    this._datepicker.classList.toggle('datepicker-group__datepicker_visible');\n  }\n\n  _clearValues() {\n    const $myCalendar = $(this._datepickerGroup).find('.js-datepicker-here');\n    const $calendar = $($myCalendar).datepicker().data('datepicker');\n    $calendar.clear();\n  }\n\n  _handleInputContentFocus() {\n    this._addClass();\n  }\n\n  _handleIconArrowDownClick() {\n    this._toggleClass();\n  }\n\n  _handleButtonsContainerForApplyClick() {\n    this._removeClass();\n  }\n\n  _handleButtonsContainerForClearClick() {\n    this._clearValues();\n  }\n\n  _handleDocumentClick(event) {\n    if (!this._datepickerGroup.contains(event.target)) {\n      this._removeClass();\n    }\n  }\n\n  _bindEventListeners() {\n    this._elementsInput.forEach(elementInput => {\n      elementInput.addEventListener(\n        'focus',\n        this._handleInputContentFocus.bind(this),\n      );\n    });\n    this._dropdownsArrow.forEach(dropdownArrow => {\n      dropdownArrow.addEventListener(\n        'click',\n        this._handleIconArrowDownClick.bind(this),\n      );\n    });\n    this._buttonApply.addEventListener(\n      'click',\n      this._handleButtonsContainerForApplyClick.bind(this),\n    );\n    this._buttonClear.addEventListener(\n      'click',\n      this._handleButtonsContainerForClearClick.bind(this),\n    );\n    document.addEventListener(\n      'click',\n      this._handleDocumentClick.bind(this),\n      true,\n    );\n  }\n\n  _setValueToInput() {\n    if (\n      $(this._calendar).parents('.datepicker-group__datepicker_with-one-input')\n        .length === 1\n    ) {\n      $(this._calendar).datepicker({\n        navTitles: {\n          days: 'MM <i>yyyy</i>',\n        },\n        multipleDatesSeparator: ' - ',\n        dateFormat: 'dd M',\n        onSelect: (fd, dates) => {\n          const input = this._datepickerGroup.querySelector(\n            '.js-input__content',\n          );\n          let string = '';\n\n          if (dates) {\n            dates.forEach(() => {\n              string = fd;\n            });\n            input.value = string;\n          }\n        },\n      });\n    } else {\n      $(this._calendar).datepicker({\n        navTitles: {\n          days: 'MM <i>yyyy</i>',\n        },\n        dateFormat: 'dd.mm.yyyy',\n        onSelect: fd => {\n          const inputs = this._datepickerGroup.querySelectorAll(\n            '.js-input__content',\n          );\n          let dayFrom = '';\n          let dayTo = '';\n\n          const signs = fd.split('');\n          signs.forEach((element, i) => {\n            if (i < 10) {\n              dayFrom += element;\n            } else if (i > 10) {\n              dayTo += element;\n            }\n          });\n          inputs[0].value = dayFrom;\n          inputs[1].value = dayTo;\n        },\n      });\n    }\n  }\n}\n\nconst elements = document.querySelectorAll('.js-datepicker-group');\nelements.forEach(element => {\n  new Datepicker(element);\n});\n"]}